<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—©æŠ¥è¯¦æƒ…</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: #f5f6f8;
            min-height: 100vh;
            padding-bottom: 80px;
        }

        .header-bar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .back-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }

        .header-title {
            color: white;
            font-size: 18px;
            font-weight: 600;
        }

        .header-right {
            display: flex;
            gap: 10px;
        }

        .header-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 16px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .header-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        .header-btn.cancel {
            background: rgba(255,100,100,0.3);
        }

        .header-btn.cancel:hover {
            background: rgba(255,100,100,0.5);
        }

        .container {
            max-width: 900px;
            margin: 30px auto;
            padding: 0 20px;
        }

        .paper-header {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            margin-bottom: 20px;
        }

        .paper-title {
            font-size: 24px;
            color: #333;
            font-weight: 600;
            line-height: 1.4;
            margin-bottom: 15px;
        }

        .paper-meta {
            display: flex;
            gap: 20px;
            font-size: 14px;
            color: #999;
            margin-bottom: 15px;
        }

        .paper-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tag {
            padding: 6px 14px;
            border-radius: 16px;
            font-size: 13px;
            font-weight: 500;
        }

        .tag-latest {
            background: #e8f5e9;
            color: #2e7d32;
        }

        .tag-shared {
            background: #fff3e0;
            color: #e65100;
        }

        .ai-summary {
            background: white;
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border-left: 4px solid #667eea;
        }

        .ai-summary-title {
            font-size: 16px;
            color: #667eea;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .ai-summary-content {
            font-size: 15px;
            color: #555;
            line-height: 2;
        }

        .events-section {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .section-title {
            font-size: 18px;
            color: #333;
            font-weight: 600;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .event-item {
            padding: 20px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .event-item:last-child {
            border-bottom: none;
        }

        .event-rank {
            display: inline-block;
            width: 28px;
            height: 28px;
            line-height: 28px;
            text-align: center;
            border-radius: 50%;
            font-size: 14px;
            font-weight: 600;
            margin-right: 12px;
        }

        .rank-top3 {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
        }

        .rank-normal {
            background: #f0f0f0;
            color: #999;
        }

        .event-content {
            display: inline-block;
            width: calc(100% - 40px);
            vertical-align: top;
        }

        .event-title {
            font-size: 16px;
            color: #333;
            font-weight: 600;
            margin-bottom: 8px;
            line-height: 1.5;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .event-title:hover {
            color: #667eea;
        }

        .event-summary {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .event-meta {
            display: flex;
            gap: 15px;
            font-size: 13px;
            color: #999;
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.15);
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            z-index: 999;
        }

        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 8px 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            background: none;
            text-decoration: none;
            color: #999;
        }

        .nav-item:hover {
            background: #f8f9fa;
        }

        .nav-item.active {
            color: #667eea;
        }

        .nav-icon {
            font-size: 24px;
            margin-bottom: 4px;
            transition: transform 0.3s ease;
        }

        .nav-item.active .nav-icon {
            transform: scale(1.15);
        }

        .nav-label {
            font-size: 13px;
            font-weight: 500;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 16px;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .modal-title {
            font-size: 18px;
            color: #333;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .modal-text {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
        }

        .modal-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 20px;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-btn-cancel {
            background: #f0f0f0;
            color: #666;
        }

        .modal-btn-confirm {
            background: #ff4757;
            color: white;
        }
    </style>
</head>
<body>
    <div class="header-bar">
        <div class="header-left">
            <button class="back-btn" onclick="goBack()">â†</button>
            <span class="header-title">æ—©æŠ¥è¯¦æƒ…</span>
        </div>
        <div class="header-right">
            <button class="header-btn" onclick="goToEdit()">âš™ï¸ ç¼–è¾‘</button>
            <button class="header-btn cancel" onclick="showCancelModal()">ğŸ—‘ï¸ å–æ¶ˆè®¢é˜…</button>
        </div>
    </div>

    <div class="container">
        <div class="paper-header">
            <div class="paper-title" id="paperTitle">æ˜Ÿå·´å…‹æ˜¥å­£æ–°å“æ¥è¢­ï¼å’–å•¡èŒ¶é¥®å¸‚åœº"å·"å‡ºæ–°é«˜åº¦ï¼Œåº“è¿ªç´§è·Ÿæ­¥ä¼</div>
            <div class="paper-meta">
                <span>ğŸ“… 2026-02-14</span>
                <span>ğŸ“° å…±10æ¡èµ„è®¯</span>
            </div>
            <div class="paper-tags" id="paperTags">
                <span class="tag tag-latest">æœ€æ–°</span>
            </div>
        </div>

        <div class="ai-summary">
            <div class="ai-summary-title">
                <span>ğŸ¤–</span>
                <span>AI æ™ºèƒ½æ€»ç»“</span>
            </div>
            <div class="ai-summary-content">
                ä»Šæ—¥å’–å•¡èŒ¶é¥®è¡Œä¸šçƒ­åº¦æŒç»­æ”€å‡ï¼Œæ˜Ÿå·´å…‹æ˜¥å­£é™å®šæ–°å“å‘å¸ƒå¼•å‘å¸‚åœºå¹¿æ³›å…³æ³¨ï¼Œèåˆä¸­å›½èŒ¶æ–‡åŒ–å…ƒç´ çš„åˆ›æ–°é¥®å“æˆä¸ºäº®ç‚¹ã€‚ä¸æ­¤åŒæ—¶ï¼Œåº“è¿ªå’–å•¡å®£å¸ƒå®Œæˆ5äº¿å…ƒCè½®èèµ„ï¼Œè®¡åˆ’æœªæ¥ä¸€å¹´æ–°å¼€1000å®¶é—¨åº—ï¼ŒåŠ é€Ÿå…¨å›½æ‰©å¼ æ­¥ä¼ã€‚è¡Œä¸šç«äº‰æ—¥è¶‹ç™½çƒ­åŒ–ï¼Œæ˜Ÿå·´å…‹ä¸åº“è¿ªåœ¨äº§å“ã€ä»·æ ¼ã€æ¸ é“ç­‰å¤šç»´åº¦å±•å¼€å…¨æ–¹ä½ç«äº‰ï¼Œå¸‚åœºæ ¼å±€é¢ä¸´é‡å¡‘ã€‚æ­¤å¤–ï¼Œäººå·¥æ™ºèƒ½å’Œä¾›åº”é“¾æ•°å­—åŒ–æŠ€æœ¯åœ¨è¡Œä¸šä¸­çš„åº”ç”¨ä¸æ–­æ·±åŒ–ï¼Œä¸ºä¼ä¸šè¿è¥æ•ˆç‡æå‡å’Œå®¢æˆ·ä½“éªŒä¼˜åŒ–æä¾›äº†å¼ºå¤§æ”¯æ’‘ã€‚æœ€æ–°å¸‚åœºåˆ†ææŠ¥å‘Šæ˜¾ç¤ºï¼Œ2026å¹´ä¸­å›½å’–å•¡èŒ¶é¥®å¸‚åœºè§„æ¨¡é¢„è®¡çªç ´5000äº¿å…ƒï¼Œå¹´å¢é•¿ç‡è¾¾15%ä»¥ä¸Šï¼Œè¡Œä¸šå‘å±•å‰æ™¯å¹¿é˜”ã€‚
            </div>
        </div>

        <div class="events-section">
            <div class="section-title">
                <span>ğŸ“°</span>
                <span>TOP10 çƒ­é—¨äº‹ä»¶</span>
            </div>
            <div id="eventsList"></div>
        </div>
    </div>

    <div class="bottom-nav">
        <button class="nav-item" onclick="switchPage('discover')">
            <div class="nav-icon">ğŸ”</div>
            <div class="nav-label">å‘ç°</div>
        </button>
        <button class="nav-item active" onclick="switchPage('morning')">
            <div class="nav-icon">ğŸ“°</div>
            <div class="nav-label">æ—©æŠ¥</div>
        </button>
        <button class="nav-item" onclick="switchPage('settings')">
            <div class="nav-icon">âš™ï¸</div>
            <div class="nav-label">è®¾ç½®</div>
        </button>
    </div>

    <div class="modal" id="cancelModal">
        <div class="modal-content">
            <div class="modal-title">å–æ¶ˆè®¢é˜…</div>
            <div class="modal-text" id="modalText">æ‚¨ç¡®è®¤è¦å–æ¶ˆè¯¥æ—©æŠ¥å—ï¼Ÿ</div>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-cancel" onclick="closeCancelModal()">å–æ¶ˆ</button>
                <button class="modal-btn modal-btn-confirm" onclick="confirmCancel()">ç¡®è®¤</button>
            </div>
        </div>
    </div>

    <script>
        const eventsData = [
            {
                id: 1,
                title: 'æ˜Ÿå·´å…‹æ¨å‡ºæ˜¥å­£é™å®šæ–°å“ï¼Œå’–å•¡èŒ¶é¥®å¸‚åœºç«äº‰åŠ å‰§',
                summary: 'æ˜Ÿå·´å…‹ä»Šæ—¥å®£å¸ƒæ¨å‡ºæ˜¥å­£é™å®šç³»åˆ—æ–°å“ï¼ŒåŒ…æ‹¬å¤šæ¬¾åˆ›æ–°é¥®å“ã€‚æ­¤ä¸¾è¢«è§†ä¸ºåº”å¯¹å¸‚åœºç«äº‰çš„é‡è¦ç­–ç•¥...',
                media: 'è´¢ç»æ—¥æŠ¥',
                publishTime: '2026-02-14 10:30',
                views: 3200,
                searchCount: 580
            },
            {
                id: 2,
                title: 'åº“è¿ªå’–å•¡å®Œæˆæ–°ä¸€è½®èèµ„ï¼ŒåŠ é€Ÿå…¨å›½æ‰©å¼ æ­¥ä¼',
                summary: 'åº“è¿ªå’–å•¡å®£å¸ƒå®Œæˆæ–°ä¸€è½®æ•°äº¿å…ƒèèµ„ï¼Œæœ¬è½®èèµ„å°†ä¸»è¦ç”¨äºé—¨åº—æ‰©å¼ å’Œä¾›åº”é“¾å»ºè®¾...',
                media: 'æŠ•èµ„ç•Œ',
                publishTime: '2026-02-14 09:15',
                views: 2800,
                searchCount: 520
            },
            {
                id: 5,
                title: 'å’–å•¡èŒ¶é¥®è¡Œä¸š2026å¹´å¸‚åœºåˆ†ææŠ¥å‘Šå‘å¸ƒ',
                summary: 'æœ€æ–°å¸‚åœºåˆ†ææŠ¥å‘Šæ˜¾ç¤ºï¼Œå’–å•¡èŒ¶é¥®è¡Œä¸šæŒç»­ä¿æŒé«˜é€Ÿå¢é•¿æ€åŠ¿ã€‚é¢„è®¡2026å¹´å¸‚åœºè§„æ¨¡å°†çªç ´5000äº¿å…ƒ...',
                media: 'è¡Œä¸šç ”ç©¶é™¢',
                publishTime: '2026-02-13 14:30',
                views: 2340,
                searchCount: 450
            },
            {
                id: 6,
                title: 'æ˜Ÿå·´å…‹ä¸åº“è¿ªå±•å¼€æ¿€çƒˆç«äº‰ï¼Œå¸‚åœºæ ¼å±€æˆ–å°†é‡å¡‘',
                summary: 'åœ¨å’–å•¡å¸‚åœºä¸Šï¼Œæ˜Ÿå·´å…‹å’Œåº“è¿ªçš„ç«äº‰æ„ˆå‘æ¿€çƒˆã€‚ä¸¤å®¶ä¼ä¸šåœ¨äº§å“åˆ›æ–°ã€ä»·æ ¼ç­–ç•¥ã€é—¨åº—å¸ƒå±€ç­‰å¤šä¸ªç»´åº¦å±•å¼€å…¨æ–¹ä½ç«äº‰...',
                media: 'å•†ä¸šè§‚å¯Ÿ',
                publishTime: '2026-02-13 11:50',
                views: 1980,
                searchCount: 410
            },
            {
                id: 3,
                title: 'äººå·¥æ™ºèƒ½æŠ€æœ¯èµ‹èƒ½å’–å•¡è¡Œä¸šï¼Œæ™ºèƒ½åŒ–æˆä¸ºæ–°è¶‹åŠ¿',
                summary: 'äººå·¥æ™ºèƒ½æŠ€æœ¯æ­£åœ¨æ·±åˆ»æ”¹å˜å’–å•¡è¡Œä¸šçš„è¿è¥æ¨¡å¼ã€‚ä»æ™ºèƒ½ç‚¹å•åˆ°ä¸ªæ€§åŒ–æ¨èï¼Œä»ä¾›åº”é“¾ä¼˜åŒ–åˆ°é—¨åº—ç®¡ç†...',
                media: 'ç§‘æŠ€å‰æ²¿',
                publishTime: '2026-02-14 08:45',
                views: 1580,
                searchCount: 380
            },
            {
                id: 8,
                title: 'ä¾›åº”é“¾é‡‘èåˆ›æ–°åŠ©åŠ›ä¸­å°ä¼ä¸šå‘å±•',
                summary: 'ä¾›åº”é“¾é‡‘èä½œä¸ºåˆ›æ–°é‡‘èæœåŠ¡æ¨¡å¼ï¼Œæ­£åœ¨ä¸ºä¸­å°ä¼ä¸šè§£å†³èèµ„éš¾é¢˜...',
                media: 'é‡‘èæ—¶æŠ¥',
                publishTime: '2026-02-12 10:20',
                views: 1450,
                searchCount: 320
            },
            {
                id: 4,
                title: 'ä¾›åº”é“¾è¡Œä¸šè¿æ¥æ•°å­—åŒ–è½¬å‹æµªæ½®ï¼Œæ•ˆç‡æå‡æ˜¾è‘—',
                summary: 'éšç€æ•°å­—åŒ–æŠ€æœ¯çš„æ·±å…¥åº”ç”¨ï¼Œä¾›åº”é“¾è¡Œä¸šæ­£ç»å†ç€æ·±åˆ»å˜é©ã€‚æ™ºèƒ½ä»“å‚¨ã€è‡ªåŠ¨åŒ–é…é€ç­‰æ–°æŠ€æœ¯çš„åº”ç”¨...',
                media: 'ç‰©æµæ—¶æŠ¥',
                publishTime: '2026-02-13 16:20',
                views: 1120,
                searchCount: 280
            },
            {
                id: 7,
                title: 'äººå·¥æ™ºèƒ½åœ¨é¤é¥®è¡Œä¸šçš„åº”ç”¨æ¡ˆä¾‹åˆ†æ',
                summary: 'äººå·¥æ™ºèƒ½æŠ€æœ¯åœ¨é¤é¥®è¡Œä¸šçš„åº”ç”¨è¶Šæ¥è¶Šå¹¿æ³›ã€‚é€šè¿‡æœºå™¨å­¦ä¹ ç®—æ³•åˆ†ææ¶ˆè´¹è€…åå¥½ï¼Œå®ç°ç²¾å‡†è¥é”€...',
                media: 'æŠ€æœ¯å‘¨åˆŠ',
                publishTime: '2026-02-12 15:30',
                views: 980,
                searchCount: 250
            }
        ];

        const paperId = new URLSearchParams(window.location.search).get('id');
        const isShared = new URLSearchParams(window.location.search).get('shared') === 'true';

        function renderEvents() {
            const container = document.getElementById('eventsList');
            
            container.innerHTML = eventsData.map((event, index) => {
                const rank = index + 1;
                const rankClass = rank <= 3 ? 'rank-top3' : 'rank-normal';
                
                return `
                    <div class="event-item">
                        <span class="event-rank ${rankClass}">${rank}</span>
                        <div class="event-content">
                            <div class="event-title" onclick="viewEvent(${event.id})">${event.title}</div>
                            <div class="event-summary">${event.summary}</div>
                            <div class="event-meta">
                                <span>ğŸ“° ${event.media}</span>
                                <span>ğŸ• ${event.publishTime}</span>
                                <span>ğŸ‘ ${event.views} æµè§ˆ</span>
                                <span>ğŸ” ${event.searchCount} æœç´¢</span>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function viewEvent(id) {
            window.location.href = `è¯¦æƒ…é¡µ.html?id=${id}`;
        }

        function goBack() {
            window.location.href = 'æ—©æŠ¥.html';
        }

        function goToEdit() {
            window.location.href = 'è®¢é˜…é…ç½®.html';
        }

        function showCancelModal() {
            const modal = document.getElementById('cancelModal');
            const modalText = document.getElementById('modalText');
            
            if (isShared) {
                modalText.textContent = 'æ‚¨ç¡®è®¤è¦å–æ¶ˆè¯¥æ—©æŠ¥å—ï¼Ÿå–æ¶ˆåå°†ä¸å†æ¥æ”¶æ­¤åˆ†äº«çš„æ—©æŠ¥æ¨é€ã€‚';
            } else {
                modalText.textContent = 'æ‚¨ç¡®è®¤è¦å–æ¶ˆè¯¥æ—©æŠ¥å—ï¼Ÿå–æ¶ˆåå°†åœæ­¢ç”Ÿæˆæ—©æŠ¥ï¼Œä¸”ä¸å†åˆ†äº«ç»™ä»–äººã€‚';
            }
            
            modal.classList.add('active');
        }

        function closeCancelModal() {
            document.getElementById('cancelModal').classList.remove('active');
        }

        function confirmCancel() {
            if (isShared) {
                alert('å·²å–æ¶ˆè¯¥åˆ†äº«æ—©æŠ¥çš„è®¢é˜…');
            } else {
                localStorage.removeItem('hasSubscription');
                localStorage.removeItem('subscriptionConfig');
                alert('å·²å–æ¶ˆæ—©æŠ¥è®¢é˜…');
            }
            window.location.href = 'æ—©æŠ¥.html';
        }

        function switchPage(page) {
            if (page === 'discover') {
                window.location.href = 'å‘ç°.html';
            } else if (page === 'morning') {
                window.location.href = 'æ—©æŠ¥.html';
            } else if (page === 'settings') {
                window.location.href = 'ç®¡ç†å‘˜é…ç½®.html';
            }
        }

        const paperTags = document.getElementById('paperTags');
        if (isShared) {
            paperTags.innerHTML += '<span class="tag tag-shared">åˆ†äº«</span>';
        }

        renderEvents();
    </script>
</body>
</html>
